(this.webpackJsonpmyexpensify=this.webpackJsonpmyexpensify||[]).push([[0],{151:function(e,t,n){e.exports=n(264)},156:function(e,t,n){},157:function(e,t,n){},176:function(e,t){},262:function(e,t,n){},264:function(e,t,n){"use strict";n.r(t);var a=n(22),r=n.n(a),o=n(0),c=n.n(o),i=(n(156),n(26)),u=n(37),s=(n(157),function(){return c.a.createElement("header",null,c.a.createElement("h1",null,"Expensify"),c.a.createElement(i.c,{exact:!0,activeClassName:"is-active",to:"/"},"Home"),c.a.createElement(i.c,{activeClassName:"is-active",to:"/create"},"create"))}),l=n(31),d=n(32),p=n(34),m=n(33),h=n(35),f=n(23),E=(n(163),n(65)),v=n(3),b=n.n(v),O=(b()(),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).handleDescriptionChange=function(e){var t=e.target.value;n.setState((function(){return{description:t}}))},n.handleNoteChange=function(e){var t=e.target.value;n.setState((function(){return{note:t}}))},n.onAmountChange=function(e){var t=e.target.value;t&&!t.match(/^\d{1,}(\.\d{0,2})?$/)||n.setState((function(){return{amount:t}}))},n.onFocusChange=function(e){var t=e.focused;n.setState((function(){return{calenderFocused:t}}))},n.handleDateChange=function(e){e&&n.setState((function(){return{createdAt:e}}))},n.handleOnSubmit=function(e){e.preventDefault(),n.state.description&&n.state.amount?(n.setState((function(){return{error:""}})),n.props.onSubmit({id:n.state.id,description:n.state.description,amount:100*parseFloat(n.state.amount,10),createdAt:n.state.createdAt.valueOf(),note:n.state.note})):n.setState((function(){return{error:"you need to fill out the description or amount field"}}))},n.state={description:e.expense?e.expense.description:"",note:e.expense?e.expense.note:"",amount:e.expense?(e.expense.amount/100).toString():"",createdAt:e.expense?b()(e.expense.createdAt):b()(),calenderFocused:!1,error:""},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,this.state.error&&c.a.createElement("p",null,this.state.error),c.a.createElement("form",{onSubmit:this.handleOnSubmit},c.a.createElement("input",{type:"text",placeholder:"description",autoFocus:!0,value:this.state.description,onChange:this.handleDescriptionChange}),c.a.createElement("input",{type:"text",placeholder:"amount",value:this.state.amount,onChange:this.onAmountChange}),c.a.createElement(E.SingleDatePicker,{date:this.state.createdAt,onDateChange:this.handleDateChange,focused:this.state.calenderFocused,onFocusChange:this.onFocusChange,numberOfMonths:1,isOutsideRange:function(){return!1}}),c.a.createElement("textarea",{placeholder:"add a note for your expense (optional)",value:this.state.note,onChange:this.handleNoteChange}),c.a.createElement("button",null,"Add Expense")))}}]),t}(o.Component)),g=n(56),D=n.n(g),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.description,n=void 0===t?"":t,a=e.note,r=void 0===a?"":a,o=e.amount,c=void 0===o?0:o,i=e.createdAt,u=void 0===i?0:i;return{type:"ADD_EXPENSE",expenses:{id:D()(),description:n,note:r,amount:c,createdAt:u}}},S=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){n.props.onSubmit(e),n.props.history.push("/")},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Add Expense"),c.a.createElement(O,{onSubmit:this.onSubmit}))}}]),t}(c.a.Component),y=Object(f.b)(void 0,(function(e){return{onSubmit:function(t){return e(x(t))}}}))(S),A=n(150),T=n.n(A),_=function(e){var t=e.id,n=e.description,a=e.amount,r=e.createdAt;return c.a.createElement("div",null,c.a.createElement(i.c,{to:"/edit/".concat(t)}," ",c.a.createElement("h3",null,n)),c.a.createElement("p",null,T()(a/100).format("$0,0.00"),"-",b()(r).format("MMMM Do, YYYY ")))},C=function(e,t){var n=t.text,a=t.sortBy,r=t.startDate,o=t.endDate;return e.filter((function(e){var t=b()(e.createdAt),a=!r||r.isSameOrBefore(t,"day"),c=!o||o.isSameOrAfter(t,"day"),i=e.description.toLowerCase().includes(n.toLowerCase());return a&&c&&i})).sort((function(e,t){return console.log(a),"date"===a?e.createdAt<t.createdAt?-1:1:"amount"===a?e.amount>t.amount?-1:1:void 0}))},j=Object(f.b)((function(e){return{expenses:C(e.expenses,e.filters)}}))((function(e){return c.a.createElement("div",null,0===e.expenses.length?c.a.createElement("p",null,"No expenses"):e.expenses.map((function(e){return c.a.createElement(_,Object.assign({key:e.id},e))})))})),w=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={calenderFocused:null},n.onFocusChange=function(e){n.setState((function(){return{calenderFocused:e}}))},n.onDatesChange=function(e){var t=e.startDate,a=e.endDate;n.props.setStartDate(t),n.props.setEndDate(a)},n.onTextChange=function(e){n.props.setTextFilter(e.target.value)},n.onSortByChange=function(e){"date"===e.target.value?n.props.sortByDate():"amount"===e.target.value&&n.props.sortByAmount()},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,"expenseListfilters",c.a.createElement("input",{type:"text",value:this.props.filters.text,onChange:this.onTextChange}),c.a.createElement("select",{value:this.props.filters.sortBy,onChange:this.onSortByChange},c.a.createElement("option",{value:"date"},"Date"),c.a.createElement("option",{value:"amount"},"Amount")),c.a.createElement(E.DateRangePicker,{startDate:this.props.filters.startDate,startDateId:"abcd5678",endDate:this.props.filters.endDate,endDateId:"abc1235",onDatesChange:this.onDatesChange,focusedInput:this.state.calenderFocused,onFocusChange:this.onFocusChange,numberOfMonths:1,isOutsideRange:function(){return!1},showClearDates:!0}))}}]),t}(c.a.Component),B=Object(f.b)((function(e){return{filters:e.filters}}),(function(e,t){return{setTextFilter:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:"SET_TEXT_FILTER",text:e}}(t))},sortByAmount:function(){return e({type:"SORT_BY_AMOUNT"})},sortByDate:function(){return e({type:"SORT_BY_DATE"})},setStartDate:function(t){return e(function(e){return{type:"SET_START_DATE",startDate:e}}(t))},setEndDate:function(t){return e(function(e){return{type:"SET_END_DATE",endDate:e}}(t))}}}))(w),N=function(){return c.a.createElement("div",null,c.a.createElement(B,null),c.a.createElement(j,null))},R=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){console.log(e),n.props.editExpense(n.props.expense.id,e),n.props.history.push("/")},n.onRemove=function(){n.props.removeExpense({id:n.props.expense.id}),n.props.history.push("/")},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(O,{expense:this.props.expense,onSubmit:this.onSubmit}),c.a.createElement("button",{onClick:this.onRemove},"Remove"))}}]),t}(c.a.Component),F=Object(f.b)((function(e,t){return{expense:e.expenses.find((function(e){return e.id===t.match.params.id}))}}),(function(e,t){return{editExpense:function(t,n){return e((a=n,{type:"EDIT_EXPENSE",id:t.id,updates:a}));var a},removeExpense:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;return{type:"REMOVE_EXPENSE",id:t}}(t))}}}))(R),k=function(){return c.a.createElement("div",null,"help")},X=function(){return c.a.createElement("div",null,"404! - ",c.a.createElement(i.b,{to:"/"},"Go Back Home"))},I=function(){return c.a.createElement(i.a,null,c.a.createElement("div",null,c.a.createElement(s,null),c.a.createElement(u.c,null,c.a.createElement(u.a,{exact:!0,path:"/",component:N}),c.a.createElement(u.a,{path:"/create",component:y}),c.a.createElement(u.a,{path:"/edit/:id",component:F}),c.a.createElement(u.a,{path:"/help",component:k}),c.a.createElement(u.a,{component:X}))))};n(262),n(263);var M=function(){return c.a.createElement("div",null,c.a.createElement(I,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=n(11),Y=n(66),L=n(36),U=[],V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXPENSE":return[].concat(Object(Y.a)(e),[t.expenses]);case"REMOVE_EXPENSE":return e.filter((function(e){return e.id!==t.id}));case"EDIT_EXPENSE":return e.map((function(e){return e.id===t.id?Object(P.a)({},e,{},t.updates):e}));default:return e}},$={text:"",sortBy:"date",startDate:b()().startOf("month"),endDate:b()().endOf("month")},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEXT_FILTER":return Object(P.a)({},e,{text:t.text});case"SORT_BY_DATE":return Object(P.a)({},e,{sortBy:"date"});case"SORT_BY_AMOUNT":return Object(P.a)({},e,{sortBy:"amount"});case"SET_START_DATE":return Object(P.a)({},e,{startDate:t.startDate});case"SET_END_DATE":return Object(P.a)({},e,{endDate:t.endDate});default:return e}},H=Object(L.c)(Object(L.b)({expenses:V,filters:G}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());H.dispatch(x({description:"water bill",amount:150,createdAt:4500})),H.dispatch(x({description:"Gas Bill",amount:300,createdAt:1e3})),H.dispatch(x({description:"Rent",amount:450,createdAt:1095e3}));var J=H.getState(),W=C(J.expenses,J.filters);console.log(W);var q=c.a.createElement(f.a,{store:H},c.a.createElement(M,null));r.a.render(q,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[151,1,2]]]);
//# sourceMappingURL=main.adbfba90.chunk.js.map