(this.webpackJsonpJesseSkralskisBlog=this.webpackJsonpJesseSkralskisBlog||[]).push([[0],{162:function(e,t,a){e.exports=a(286)},167:function(e,t,a){},187:function(e,t){},269:function(e,t,a){},283:function(e,t,a){},286:function(e,t,a){"use strict";a.r(t);var n=a(24),r=a.n(n),o=a(0),c=a.n(o),l=(a(89),a(167),a(38)),i=a(9),s=a(5),u=a.n(s),d=a(27),m=a(69),b="8eBfiHh9eeeJJzi3zchLm1RPaxT2",f=Object(i.b)((function(e){return{isAuthenticated:!!e.auth.uid}}))((function(e){var t=e.isAuthenticated,a=e.component,n=Object(m.a)(e,["isAuthenticated","component"]);return c.a.createElement(l.b,Object.assign({},n,{component:function(e){return t?c.a.createElement("div",null,c.a.createElement(a,e)):c.a.createElement(l.a,{to:"/"})}}))}));var E=Object(l.g)((function(e){var t=e.id,a=e.title,n=e.blog,r=e.createdAt,o=e.history,l=e.uid;return c.a.createElement("div",{className:"bloglist_items"},c.a.createElement("h1",null,a),c.a.createElement("div",{className:"bloglist_blog"},c.a.createElement("p",null,n)),c.a.createElement("div",{className:"bloglist__readmore-wrapper"},c.a.createElement("button",{className:"buttons buttons--secondary_darkPurp",onClick:function(){return function(e){o.push("/expandedBlog/".concat(e))}(t)}},"Read More")),c.a.createElement("div",{className:"bloglist__post"},b===l&&c.a.createElement(d.a,{to:"/create"},c.a.createElement("button",{className:"buttons buttons--post"},"New Post"))),c.a.createElement("small",null,u()(r).format("dddd, MMMM Do YYYY, h:mm:ss a")))})),g=function(e,t){var a=t.text,n=t.sortBy,r=t.startDate,o=t.endDate;return e.filter((function(e){var t=u()(e.createdAt),n=!r||r.isSameOrBefore(t,"day"),c=!o||o.isSameOrAfter(t,"day"),l=e.title.toLowerCase().includes(a.toLowerCase()),i=e.blog.toLowerCase().includes(a.toLowerCase());return n&&c&&(l||i)})).sort((function(e,t){return"recent"===n?e.createdAt<t.createdAt?1:-1:"oldest"===n?e.createdAt>t.createdAt?1:-1:void 0}))},h=a(34),p=(a(174),a(68)),_=(a(152),a(269),Object(i.b)((function(e){return{filters:e.filters}}),(function(e){return{setTextFilter:function(t){return e({type:"SET_TEXT_FILTER",text:t})},sortByRecent:function(){return e({type:"SORT_BY_RECENT"})},sortByOldest:function(){return e({type:"SORT_BY_OLDEST"})},setStartDate:function(t){return e(function(e){return{type:"SET_START_DATE",startDate:e}}(t))},setEndDate:function(t){return e(function(e){return{type:"SET_END_DATE",endDate:e}}(t))}}}))((function(e){var t=e.setTextFilter,a=e.sortByRecent,n=e.sortByOldest,r=e.filters,l=e.setStartDate,i=e.setEndDate,s=Object(o.useState)(null),u=Object(h.a)(s,2),d=u[0],m=u[1];return c.a.createElement("div",{className:"filters__content-container"},c.a.createElement("h2",null,"Search Features"),c.a.createElement("select",{className:"filters__select",value:r.sortBy,onChange:function(e){"recent"===e.target.value?a():"oldest"===e.target.value&&n()}},c.a.createElement("option",{value:"recent"},"Most recent blog "),c.a.createElement("option",{value:"oldest"},"Oldest Blog first ")),c.a.createElement("input",{className:"filters__input",onChange:function(e){console.log(d),t(e.target.value)},type:"text",placeholder:"Search for a blog with a key word"}),c.a.createElement("div",{className:"filters__datebox"},c.a.createElement(p.DateRangePicker,{startDate:r.startDate,startDateId:"abcd5678",endDate:r.endDate,endDateId:"abc1235",onDatesChange:function(e){var t=e.startDate,a=e.endDate;l(t),i(a)},focusedInput:d,onFocusChange:function(e){m(e)},numberOfMonths:1,isOutsideRange:function(){return!1},showClearDates:!0})))}))),v=Object(i.b)((function(e){return{blogs:g(e.blogPost,e.filters),uid:e.auth.uid}}))((function(e){var t=e.blogs,a=e.uid;return c.a.createElement("div",{className:"bloglist__container"},c.a.createElement("div",{className:"bloglist__scrollbar-removal"},c.a.createElement("div",{className:"bloglist__blogs-wrapper"},t.map((function(e){var n=e.id,r=e.title,o=e.blog,l=e.createdAt;return c.a.createElement(E,{uid:a,className:"bloglist__blog",blogs:t,id:n,key:n,title:r,blog:o,createdAt:l})})))),c.a.createElement("div",{className:"bloglist__filters-wrapper"},c.a.createElement(_,null)))})),O=a(49);O.initializeApp({apiKey:"AIzaSyArP695arQlFLZaXpShUie6DTPj3v-jC5E",authDomain:"expensify-5cb4b.firebaseapp.com",databaseURL:"https://expensify-5cb4b.firebaseio.com",projectId:"expensify-5cb4b",storageBucket:"expensify-5cb4b.appspot.com",messagingSenderId:"1086681601316",appId:"1:1086681601316:web:de44f8eebb7a2a776dcfb1",measurementId:"G-8DXGMZVR4S"}),O.analytics();var y=O.database(),N=new O.auth.GoogleAuthProvider,D=Object(i.b)(void 0,(function(e){return{startLogout:function(){return e((function(){return O.auth().signOut()}))}}}))((function(e){var t=e.startLogout;return(c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"header__content"},c.a.createElement("div",{className:"header__psuedo"}),c.a.createElement("div",{className:"header__link-wrapper"}," ",c.a.createElement(d.a,{className:"header__link",to:"/dashboard"}," ",c.a.createElement("h1",{id:"header__h1"},"Pivot"))),c.a.createElement("div",{className:"header__buttonContainer"},c.a.createElement("button",{className:"buttons buttons--logout",onClick:t},"Logout")))))})),B=function(){return c.a.createElement("div",{className:"dashboard__container"},c.a.createElement("div",{className:"dashboard__exsisting-content"},c.a.createElement(D,null)),c.a.createElement("div",{className:"dashboard__remaining-space"},c.a.createElement(v,null)))},T=a(28),S=function(e){return{type:"ADD_BLOG_ENTRY",blogPost:e}},j=function(e){return{type:"DELETE_BLOG_ENTRY",id:e}},A=a(33);var x=Object(A.d)(l.g,Object(i.b)(void 0,(function(e){return{addBlogEntry:function(t){return e(S(t))},startAddBlogEntry:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.log("called"),function(t,a){var n=e.title,r=void 0===n?"":n,o=e.blog,c=void 0===o?"":o,l=e.createdAt,i=void 0===l?0:l,s=a().auth.uid;console.log("@@@@@@@@@@@@ getting this id ".concat(s));var u={title:r,blog:c,createdAt:i};y.ref("users/".concat(s,"/blogs")).push(u).then((function(e){t(S(Object(T.a)({id:e.key},u)))}))}}(t))}}})))((function(e){var t=Object(o.useState)(e.editedBlog?e.editedBlog.title:""),a=Object(h.a)(t,2),n=a[0],r=a[1],l=Object(o.useState)(e.editedBlog?e.editedBlog.blog:""),i=Object(h.a)(l,2),s=i[0],d=i[1],m=Object(o.useState)(null),b=Object(h.a)(m,2),f=b[0],E=b[1],g=Object(o.useState)(""),_=Object(h.a)(g,2),v=_[0],O=_[1],y=Object(o.useState)({}),N=Object(h.a)(y,2),D=N[0],B=N[1];Object(o.useEffect)((function(){0===Object.entries(D).length&&D.constructor===Object||(e.editedBlog?(e.onSubmit(e.editedBlog.id,D),e.history.push("/dashboard")):(e.startAddBlogEntry(D),e.history.push("/dashboard")))}),[e,D,e.startAddBlogEntry,e.history]);var T=Object(o.useState)(e.editedBlog?u()(e.editedBlog.createdAt):u()()),S=Object(h.a)(T,2),j=S[0],A=S[1];return c.a.createElement("div",{className:"bf__container"},v.length>1&&c.a.createElement("div",{className:"bg__error"},c.a.createElement("h1",null,v)),c.a.createElement("form",{className:"bf__formContainer",onSubmit:function(e){e.preventDefault(),n.length<1||s.length<1?O("You need to fill out the Title and Blog form"):(B({title:n,blog:s,createdAt:j.valueOf()}),r(""),d(""),A(u()()))}},c.a.createElement("div",{className:"bf__above"},c.a.createElement("div",{className:"bf__input-wrapper"},c.a.createElement("input",{className:"bf__input",value:n,onChange:function(e){r(e.target.value)},placeholder:"Blog Title",type:"text"})),c.a.createElement("div",{className:"single"},c.a.createElement(p.SingleDatePicker,{date:j,onDateChange:function(e){A(e)},focused:f,onFocusChange:function(e){E(e.focused)},numberOfMonths:1,isOutsideRange:function(){return!1}}))),c.a.createElement("div",{className:"bf__textArea"},c.a.createElement("textarea",{placeholder:"Blog goes here",type:"text",value:s,onChange:function(e){var t=e.target.value;d(t)}})),c.a.createElement("div",{className:"bf__buttonPost"},c.a.createElement("button",{className:"buttons "},"Post Blog"))))}));var w=Object(i.b)((function(e,t){return{blog:e.blogPost.find((function(e){return e.id===t.match.params.id}))}}),(function(e){return{startEditBlog:function(t,a){return e(function(e,t){return function(a,n){var r=n().auth.uid;return y.ref("/users/".concat(r,"/blogs/").concat(e)).update(t).then((function(n){a(function(e,t){return{type:"EDIT_BLOG_ENTRY",id:e,updates:t}}(e,t))}))}}(t,a))}}}))((function(e){var t=e.startEditBlog,a=e.blog,n=e.match;return c.a.createElement("div",null,c.a.createElement(D,null),c.a.createElement(x,{id:n.params.id,editedBlog:a,onSubmit:function(e,a){t(e,a)}}))})),L=function(){return c.a.createElement("div",null,"404! - ",c.a.createElement(d.a,{to:"/"},"Go Back Home"))},k=Object(i.b)(void 0,(function(e){return{startLogin:function(){return e((function(){return O.auth().signInWithPopup(N)}))}}}))((function(e){var t=e.startLogin;return c.a.createElement("div",{className:"box-layout"},c.a.createElement("div",{className:"box-layout__box"},c.a.createElement("h1",{className:"box-layout__title "},"Pivot"),c.a.createElement("div",{className:"box-layout__box-container"},c.a.createElement("button",{className:"buttons",onClick:t},"Login with Google")),c.a.createElement("div",{className:"box-layout__move-both"},c.a.createElement("p",{className:"box-layout__name"},"Jesse Skralskis"),c.a.createElement("p",{className:"box-layout__description"},"a full stack web developer coding blog"))))}));function C(){return c.a.createElement("div",{className:"create__container"},c.a.createElement("div",{className:"create__header"},c.a.createElement(D,null)),c.a.createElement("div",{className:"create__remaining"},c.a.createElement(x,null)))}var R=a(159),P=a.n(R),Y=Object(i.b)((function(e){return{uid:e.auth.uid}}))((function(e){var t=e.component,a=e.uid,n=Object(m.a)(e,["component","uid"]);return(c.a.createElement(l.b,Object.assign({},n,{component:function(e){return b===a?c.a.createElement("div",null,c.a.createElement(t,e)):c.a.createElement(l.a,{to:"/dashboard"})}})))}));var I=Object(i.b)((function(e,t){return{blogy:e.blogPost.find((function(e){return e.id===t.match.params.id})),uid:e.auth.uid}}),(function(e){return{deleteBlog:function(t){return e(j(t))},startDelete:function(t){return e((a=t,function(e,t){var n=t().auth.uid;return y.ref("/users/".concat(n,"/blogs/").concat(a)).remove().then((function(t){e(j(a))}))}));var a}}}))((function(e){var t=e.blogy,a=e.match,n=e.startDelete,r=e.history,o=e.uid;return c.a.createElement("div",{className:"expaned__container"},c.a.createElement(D,null),c.a.createElement("div",{className:"expanded__content"},c.a.createElement("div",{className:"expanded__inner"},c.a.createElement("article",{key:a.params.id},c.a.createElement("h1",null,t.title),c.a.createElement("p",null,t.blog),b===o,c.a.createElement("div",null,o===b&&c.a.createElement("button",{className:"buttons buttons--delete",onClick:function(){console.log(t.id),n(t.id),r.push("/dashboard")}},"Delete Post"),o===b&&c.a.createElement("button",{className:"buttons",onClick:function(){r.push("/edit/".concat(t.id))}},"Edit Post")),c.a.createElement("p",{id:"p2"},u()(t.createdAt).format("dddd, MMMM Do YYYY, h:mm:ss a"))))))})),G=P()(),M=function(){return c.a.createElement(l.c,{history:G},c.a.createElement("div",null,c.a.createElement(l.d,null,c.a.createElement(l.b,{path:"/",exact:!0,component:k}),c.a.createElement(f,{path:"/dashboard",component:B}),c.a.createElement(Y,{path:"/create",component:C}),c.a.createElement(f,{path:"/expandedBlog/:id",component:I}),c.a.createElement(Y,{path:"/edit/:id",component:w}),c.a.createElement(l.b,{component:L}))))};a(283);var J=function(){return c.a.createElement("div",null,c.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(160),z={text:"",sortBy:"recent",startDate:u()().startOf("month"),endDate:u()().endOf("month")},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEXT_FILTER":return Object(T.a)({},e,{text:t.text});case"SORT_BY_RECENT":return Object(T.a)({},e,{sortBy:"recent"});case"SORT_BY_OLDEST":return Object(T.a)({},e,{sortBy:"oldest"});case"SET_START_DATE":return Object(T.a)({},e,{startDate:t.startDate});case"SET_END_DATE":return Object(T.a)({},e,{endDate:t.endDate});default:return e}},U=a(161),H=[],W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BLOG_ENTRY":return[].concat(Object(U.a)(e),[t.blogPost]);case"DELETE_BLOG_ENTRY":return e.filter((function(e){return e.id!==t.id}));case"EDIT_BLOG_ENTRY":return e.map((function(e){return console.log("blogid ".concat(e.id," action ").concat(t.updates)),e.id===t.id?Object(T.a)({},e,{},t.updates):e}));case"SET_BLOGS":return t.blogs;default:return e}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return{uid:t.uid};case"LOGOUT":return{};default:return e}},Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.d,K=a(87),Q=a.n(K);a.d(t,"testBlogs",(function(){return q}));var $=Object(A.e)(Object(A.c)({filters:X,auth:V,blogPost:W}),Z(Object(A.a)(F.a))),q=[{id:Q()(),title:"one",blog:"A toast to my cold Christmas in England a month ago: a welcome change from the constant oppressive heat, dust and humidity of Dar es Salaam.A toast to my cold Christmas in England a month ago: a welcome change from the constant oppressive heat, dust and humidity of Dar es Salaam.A toast to my cold Christmas in England a month ago: a welcome change from the constant oppressive heat, dust and humidity of Dar es Salaam. ",createdAt:u()()},{id:Q()(),title:"two",blog:"second blog",createdAt:u()()}],ee=c.a.createElement(i.a,{store:$},c.a.createElement(J,null));r.a.render(ee,document.getElementById("root"));var te=!1,ae=function(){te||(r.a.render(ee,document.getElementById("root")),te=!0)};"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),O.auth().onAuthStateChanged((function(e){e?($.dispatch({type:"LOGIN",uid:e.uid}),console.log("logged in"),$.dispatch((function(e){return y.ref("users/".concat("8eBfiHh9eeeJJzi3zchLm1RPaxT2","/blogs")).once("value").then((function(t){var a=[];t.forEach((function(e){a.push(Object(T.a)({id:e.key},e.val()))})),e(function(e){return{type:"SET_BLOGS",blogs:e}}(a))}))})).then((function(){ae(),"/"===G.location.pathname&&G.push("/dashboard")}))):($.dispatch({type:"LOGOUT"}),console.log("logged out"),ae(),G.push("/"))}))},89:function(e,t,a){}},[[162,1,2]]]);
//# sourceMappingURL=main.6928dbed.chunk.js.map